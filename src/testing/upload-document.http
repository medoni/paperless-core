### PaperlessCore API - Document Upload Examples
###
### This file contains example HTTP requests for testing the PLC API
### Use with REST Client extension in VS Code or IntelliJ HTTP Client

### Variables
@baseUrl = https://plc-api-bx7xdsbeoa-ew.a.run.app

### 1. Health Check
GET {{baseUrl}}/health

### 2. Upload Single Document (Production)
POST {{baseUrl}}/api/v1/documents
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="files"; filename="20250117 Rechnung Brille.pdf"
Content-Type: application/pdf

< /mnt/c/Users/Micha/iCloudDrive/Dokumente3/Kassenzettel_Garantie/2025/20250117 Rechnung Brille.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="tags"

2025,brille,garantie
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="assignedTo"

Micha
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 4. Get Document by ID (Replace with actual ID from upload response)
@documentId = doc-550e8400-e29b-41d4-a716-446655440001
GET {{baseUrl}}/api/v1/documents/{{documentId}}

### 5. Upload Multiple Documents (Example with duplicates for testing)
POST {{baseUrl}}/api/v1/documents
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="files"; filename="rechnung-1.pdf"
Content-Type: application/pdf

< /mnt/c/Users/Micha/iCloudDrive/Dokumente3/Kassenzettel_Garantie/2025/20250117 Rechnung Brille.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="files"; filename="rechnung-2.pdf"
Content-Type: application/pdf

< /mnt/c/Users/Micha/iCloudDrive/Dokumente3/Kassenzettel_Garantie/2025/20250117 Rechnung Brille.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="tags"

2025,bulk-test
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 6. Upload without tags (minimal example)
POST {{baseUrl}}/api/v1/documents
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="files"; filename="rechnung-minimal.pdf"
Content-Type: application/pdf

< /mnt/c/Users/Micha/iCloudDrive/Dokumente3/Kassenzettel_Garantie/2025/20250117 Rechnung Brille.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 7. Error Test - Invalid File Format (should fail)
POST {{baseUrl}}/api/v1/documents
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="files"; filename="invalid.txt"
Content-Type: text/plain

This is not a PDF
------WebKitFormBoundary7MA4YWxkTrZu0gW--
